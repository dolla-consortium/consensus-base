<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>System.Terminfo</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">terminfo-hs-0.2.1.1: A pure-Haskell (no FFI) module for accessing terminfo databases</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Bryan Richter (2013)</td></tr><tr><th>License</th><td>BSD-style</td></tr><tr><th>Maintainer</th><td>bryan.richter@gmail.com</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">System.Terminfo</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Acquiring a Database</a></li><li><a href="#g:2">Querying Capabilities</a></li><li><a href="#g:3">The Capabilities</a></li><li><a href="#g:4">The Database Type</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This is a pure-Haskell (no FFI) module for accessing terminfo databases,
 which contain characteristics, or capabilities, for the various
 terminals such as screen, vt100, or xterm. Among other things, the
 capabilities include the idiosyncratic character sequences needed to
 send commands to the terminal. These commands include things like cursor
 movement.</p><p>For a deeper understanding of terminfo, consult the man pages for
 term(5) and terminfo(5).</p><p>There are three parts to this module: acquiring a terminfo database,
 querying the database, and defining the capabilities.</p><p>This module is dead simple, so a single example will hopefully suffice
 to demonstrate its usage.</p><pre>import System.Terminfo
import System.Terminfo.Caps as C
uglyExample :: IO (Maybe Int)
uglyExample = do
    term &lt;- fromJust &lt;$&gt; lookupEnv &quot;TERM&quot;
    db &lt;- <code><a href="System-Terminfo.html#v:acquireDatabase" title="System.Terminfo">acquireDatabase</a></code> term
    let maxColors (Right d) = <code><a href="System-Terminfo.html#v:queryNumTermCap" title="System.Terminfo">queryNumTermCap</a></code> d C.<code><a href="System-Terminfo-Caps.html#v:MaxColors" title="System.Terminfo.Caps">MaxColors</a></code>
    return $ maxColors db
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>uglyExample
</code></strong>Just 256
</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:acquireDatabase">acquireDatabase</a> :: <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.13.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a>)</li><li class="src short"><a href="#v:queryBoolTermCap">queryBoolTermCap</a> :: <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a> -&gt; <a href="System-Terminfo-Caps.html#t:BoolTermCap" title="System.Terminfo.Caps">BoolTermCap</a> -&gt; <a href="../base-4.13.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:queryNumTermCap">queryNumTermCap</a> :: <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a> -&gt; <a href="System-Terminfo-Caps.html#t:NumTermCap" title="System.Terminfo.Caps">NumTermCap</a> -&gt; <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.13.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:queryStrTermCap">queryStrTermCap</a> :: <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a> -&gt; <a href="System-Terminfo-Caps.html#t:StrTermCap" title="System.Terminfo.Caps">StrTermCap</a> -&gt; <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:TIDatabase">TIDatabase</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Acquiring a Database</h1></a><div class="top"><p class="src"><a id="v:acquireDatabase" class="def">acquireDatabase</a> <a href="#v:acquireDatabase" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>System name</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.13.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a>)</td><td class="doc"><p>A database object for the terminal, if it exists.</p></td></tr></table></div></div><a href="#g:2" id="g:2"><h1>Querying Capabilities</h1></a><div class="doc"><p>For each of these three actions, the first argument is the database to
 query, and the second argument is the capability to look up.</p><p>I'm not super proud of this interface, but it's the best I can manage at
 present without requiring lots of mostly-empty case expressions. Perhaps
 someone will suggest a more interesting solution.</p></div><div class="top"><p class="src"><a id="v:queryBoolTermCap" class="def">queryBoolTermCap</a> :: <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a> -&gt; <a href="System-Terminfo-Caps.html#t:BoolTermCap" title="System.Terminfo.Caps">BoolTermCap</a> -&gt; <a href="../base-4.13.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:queryBoolTermCap" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:queryNumTermCap" class="def">queryNumTermCap</a> :: <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a> -&gt; <a href="System-Terminfo-Caps.html#t:NumTermCap" title="System.Terminfo.Caps">NumTermCap</a> -&gt; <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.13.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:queryNumTermCap" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:queryStrTermCap" class="def">queryStrTermCap</a> :: <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a> -&gt; <a href="System-Terminfo-Caps.html#t:StrTermCap" title="System.Terminfo.Caps">StrTermCap</a> -&gt; <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:queryStrTermCap" class="selflink">#</a></p><div class="doc"><p>As this is a dead simple module, no 'smart' handling of the
 returned string is implemented. In particular, placeholders for
 buffer characters and command arguments are left as-is. This will be
 rectified eventually, probably in a separate module.</p></div></div><a href="#g:3" id="g:3"><h1>The Capabilities</h1></a><div class="doc"><p><em>see</em> <a href="System-Terminfo-Caps.html">System.Terminfo.Caps</a></p><p>There are no less than 497 capabilities specified in term.h on my
 Intel-based Ubuntu 12.04 notebook (slightly fewer in the terminfo(5) man
 page). The naive way of making these available to the user is as data
 constructors, and that is what I have done here.</p><p>The number of constructors absolutely crushes the namespace. I have
 sequestered them into their own module to try to alleviate the pain.</p></div><a href="#g:4" id="g:4"><h1>The Database Type</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TIDatabase" class="def">TIDatabase</a> <a href="#t:TIDatabase" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TIDatabase">Instances</h4><details id="i:TIDatabase" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TIDatabase:Show:1"></span> <a href="../base-4.13.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a></span> <a href="#t:TIDatabase" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TIDatabase:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="System-Terminfo-Types.html">System.Terminfo.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.13.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a> -&gt; <a href="../base-4.13.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a> -&gt; <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="System-Terminfo.html#t:TIDatabase" title="System.Terminfo">TIDatabase</a>] -&gt; <a href="../base-4.13.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>